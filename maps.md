
# Yandex Maps API filter selection
---
## Содержимое:

  -- [maps.js](#chapter-1) 
  -- [mainpage.blade.php](#chapter-2)
  -- [DBdataMap.php](#chapter-3)
  -- [Использование](#chapter-4)
 ---
## <a id="chapter-1"></a> **maps.js**
### Отвечает за содержимое карты:
- Отрисовывает её
- Вытаскивает из БД значения и располагает их на карте:
  + Создает коллекцию myCollection и SelCollection
  + На каждый кортеж из БД делаем по метке Placemark и заносим каждую в myCollection
- Добавляет событие выделения: 
  + Для выделения требуется сделать клик по карте
  + Выбрать необходимую зону и необходимые метки
  + Сделать клик еще раз, чтобы закончить выделение
- Добавляет элементы управления на карту - "Снять выделение"

---
## <a id="chapter-2"></a>**mainpage.blade.php** 
### Содержимое страницы
Изменения на странице:
-- Добавления кнопки "Отметить на карте"
-- Изменение работы "Очистить" и "Выбрать всё"
-- Получение данных с БД

---
## <a id="chapter-3"></a>**DBdataMap.php** 
### Подключение к БД
Получаем данные из запроса:
```php
$query = "select distinct latitude, longitude, water_area_name, id_station, station_name from vw_samples"; 
``` 
Далее результат преобразуется в json-объект

---
## <a id="chapter-4"></a>**Использование** 
  1. Нажать *Отметить на карте*
  2. Выделить нужные метки
  3. Выбрать либо по одной метке в списке, либо нажать *Выбрать всё*